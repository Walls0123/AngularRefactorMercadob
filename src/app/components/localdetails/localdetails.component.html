<ng-container *ngIf="isLoad; else elseTemplate">
  <section class="mt-3 mb-5">
    <div class="container-fluid">
      <div class="row mt-3">
        <div class="col-md-6">
          <h3 class="mt-4"><b>{{this.locals.local_nombre}}</b></h3><span
            class="mr-3">{{this.locals.local_direccion}}</span><br>
          <div class="mt-1 mb-1">
            <button class="btn btn-danger" *ngIf="locals.shownumber==false" (click)="shownumber()">Mostra
              Telefono</button>
            <h5 *ngIf="locals.shownumber==true">
              {{locals.local_telefono}}
            </h5>
          </div>
          <div class="mt-1 mb-2"></div>
        </div>
        <div class="col-md-6">
          <h4>Haz tu reserva sin riesgos para asegurar una tarifa baja, sin pagar hasta tu
            mudanza.</h4>
          <h6>Cancela tu reserva sin costo.</h6>
        </div>
        <div class="col-sm-12">
          <div class="row">
            <div class="col-md-6">
              <div class="mt-3 mb-3" id="carousel">
                <!-- Carrucel -->
                <div id="carouselExampleSlidesOnly" class="carousel slide" data-ride="carousel">
                  <div class="carousel-inner">
                    <div class="carousel-item active">
                      <img class="d-block w-100"
                        src="https://www.imgworlds.com/wp-content/uploads/2015/12/18-CONTACTUS-HEADER.jpg"
                        alt="First slide">
                    </div>
                    <div class="carousel-item">
                      <img class="d-block w-100"
                        src="https://www.imgworlds.com/wp-content/uploads/2015/12/18-CONTACTUS-HEADER.jpg"
                        alt="Second slide">
                    </div>
                    <div class="carousel-item">
                      <img class="d-block w-100"
                        src="https://www.imgworlds.com/wp-content/uploads/2015/12/18-CONTACTUS-HEADER.jpg"
                        alt="Third slide">
                    </div>
                  </div>
                </div>
              </div>
              <div>
                <h6><b> {{this.locals.local_nombre}} </b></h6>
                <div class="descripcion expand-content collapsed" id="descripcion">
                  <p class="ph-paragraph small light"><span>
                    </span></p>
                </div>
                <div>
                  <h5><span class="border-bottom border-black"><a id="ver-detalles">Ver más</a></span></h5>
                </div>
              </div>
              <div class="amenidades lg-amenidades mt-3">
                <h4><b>Características</b></h4>
                <!-- Caracteristicas xd -->
                <div class="row mt-4">
                  <div *ngFor="let ameninades of this.locals.caracteristicasmod" class="col-sm-6 d-block">
                    <h3>{{ameninades.nombregrupo}}</h3>
                    <ul class="p-0">
                      <li class="mt-2" *ngFor="let detamenidad of ameninades.caracteriticas"><i style="color: #FF6C2F;"
                          class="fas fa-check"></i>{{detamenidad['caracteristica']}}
                      </li>
                    </ul>
                  </div>
                </div>
                <div class="col-sm-12">
                  <div class="row">
                    <div class="col-sm-6 p-0">
                      <h3>Horario Oficina</h3>
                      <div *ngFor="let item of locals.horario,index as i">
                        <div *ngIf="i<8">
                          <div class="row mb-2">
                            <ng-container *ngIf="item.horario_tipo==='o'">
                              <div class="col-md-5">
                                <span class="horadia">{{item.horario_dia}}</span>
                              </div>
                              <div class="col-md-7">
                                <span>{{item.horario_horaEntrada+'-'+item.horario_horaSalida}}</span>
                              </div>
                            </ng-container>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6 p-0">
                      <h3>Horario Acceso</h3>
                      <div *ngFor="let item of locals.horario,index as i">
                        <div *ngIf="i>6">
                          <div class="row mb-2">
                            <ng-container *ngIf="item.horario_tipo==='a'">
                              <div class="col-md-5">
                                <span class="horadia">{{item.horario_dia}}</span>
                              </div>
                              <div class="col-md-7">
                                <span>{{item.horario_horaEntrada+'-'+item.horario_horaSalida}}</span>
                              </div>
                            </ng-container>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <h4 class="mt-4 clickable"><i class="fas fa-warehouse"></i> &nbsp;Unidades (<u>Guía de tamaños</u>) </h4>
              <!-- Filtros -->
              <div class="row m-0" style="background-color: #eee">
                <div class="d-flex m-2">
                  <div class="p-1 filter" *ngFor="let item of this.filters;index as i">
                    <button class="buttonfilter" id={{item.longunid}} [disabled]=!item.isHability
                      (click)=filertLocals(item,filters[i+1])
                      class="btn bg-white mb-1 mt-1 btnfilter"><span>{{item.longunid+' '+item.unitmetric}}<sup>{{item.nummteric}}</sup></span></button>
                  </div>
                </div>
              </div>
              <div class="acordion" id="ac1">
                <div class="card" *ngFor="let item of locals.unidad">
                  <div class="card-header p-0" [id]="'heading'+item.unidad_id">
                    <button class="btn btn-block" type="button" data-toggle="collapse"
                      [attr.data-target]="'#collapse'+item.unidad_id" aria-expanded="true"
                      [attr.aria-controls]="'collapse'+item.unidad_id">
                      <div class="p-2">
                        <div class="row">
                          <div class="col-md-6">
                            <div class="container">
                              <img src="https://mercadobodegas.cl/almacenes/public/img/img_1.svg" alt="" width="70px"
                                height="50px">
                            </div>
                            <div>
                              <span>
                                <b>
                                  {{'Unidad '+item.unidad_area+' m'}}
                                  <sub>2</sub>
                                </b>
                              </span>
                              <div>
                                <span>{{
                    item.unidad_oferta}}</span>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-6">
                            <div class="d-flex flex-row justify-content-between">
                              <div class="d-flex flex-column text-center">
                                <span>
                                  <h4>
                                    <span>
                                      <b>$</b>
                                      <b>{{item.unidad_precioMensual}}</b>
                                    </span>
                                  </h4>
                                </span>
                                <span>
                                  por mes
                                </span>
                              </div>
                              <div class="d-flex flex-column text-center ml-3">
                                <button class="btn btn-dark">Continuar</button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </button>
                  </div>
                  <div [id]="'collapse'+item.unidad_id" class="collapse hide"
                    [attr.aria-labelledby]="'heading'+item.unidad_id" [attr.data-parent]="'#ac1'">
                    <div class="card-body">
                      <div class="row">
                        <div class="card-body">
                          <div class="row">
                            <div class="col-md-12 mb-3"><span>
                                <h4>Haz tu reserva</h4>
                              </span></div>
                            <h1>{{errormensajeenviar}}</h1>
                            <form #myform="ngForm" id="formreserva" [name]="item.unidad_id"
                              (ngSubmit)="onSumbit(myform,item)">
                              <div class="row">
                                <div class="col-md-6 mt-3">
                                  <span>{{errormensaje}}</span>
                                  <input type="text" class="form-control" name="firstname" placeholder="Nombre" ngModel>
                                </div>
                                <div class="col-md-6 mt-3">
                                  <span>{{errormensaje}}</span>
                                  <input type="text" class="form-control" name="lastname" placeholder="Apellidos"
                                    ngModel>
                                </div>
                                <div class="col-md-6 mt-3">
                                  <span>{{errormensaje}}</span>
                                  <input type="email" name="email" required class="form-control" placeholder="email"
                                    ngModel>
                                </div>
                                <div class="col-md-6 mt-3">
                                  <span>{{errormensaje}}</span>
                                  <input type="phone" name="phone" required class="form-control" placeholder="Telefono"
                                    ngModel>
                                </div>
                                <div class="col-md-6 mt-3">
                                  <span>{{errormensaje}}</span>
                                  <input type="date" name="fecha" required class="form-control" placeholder="fecha"
                                    ngModel>
                                </div>
                                <div class="col-md-12 mt-3">
                                  <button type="submit" class="form-control"
                                    style="background-color: #FF6C2F; color: white;">Completar Reserva</button>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row mt-3">
                <div class="col-md-12"><iframe frameborder="0" marginheight="0" marginwidth="0" scrolling="no"
                    style="width:100%;height: 200px;"
                    src="https://maps.google.com/maps?q=-33.46872840,-70.64531570&amp;language=es&amp;z=14&amp;output=embed"></iframe><br>
                </div>
              </div>
            </div>
            <div class="col-md-6">
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container mt-4">
      <div class="row">
        <div class="col-sm-6"></div>
      </div>
    </div>
  </section>
</ng-container>
<ng-template #elseTemplate>
  <div class="text-center">
    <img src="https://josefacchin.com/wp-content/uploads/2018/09/error-404-http-not-found.png" alt="">
  </div>
</ng-template>
<div id="modalconfirmacion" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header border-bottom-0 bgprincipal">
        <div class="text-center w-100">
          <img src="https://mercadobodegas.cl/assets/logo1.svg" alt="">
        </div>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body p-0 border-bottom-0 bgprincipal">
        <img class="modal-content border-0"
          src="https://juanparangoblog.files.wordpress.com/2017/09/negociacic3b3n.jpg?w=1400" alt="">
      </div>
      <div>
        <h3>Tu Reserva Se Realizo Correctamente
        </h3>
      </div>
      <div class="modal-footer p-0 bgprincipal">
        <button (click)=continuarreserva() id="btnclosemodal" type="button" class="m-0 btn btn-block bgprincipal"
          style="color: white;">Continuar</button>
      </div>
      <div class="modal-footer p-0 bgprincipal">
        <button data-dismiss="modal" id="btnclosemodal" type="button" class="m-0 btn btn-block bgprincipal"
          style="color: white;">Cerrar</button>
      </div>
    </div>
  </div>
</div>
